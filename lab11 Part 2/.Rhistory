deserts %>%
filter(species_id=="DM" | species_id=="DS") %>%
group_by(year, species_id) %>%
summarise(n=n())
#count(year, species_id)
deserts$year <- as.factor(deserts$year) #interpreting the year as numerics, not factor; we changing that here; R likes to treat numbers as numerics automatically
glimpse(deserts)
deserts %>%
filter(species_id=="DM" | species_id=="DS") %>%
group_by(year, species_id) %>%
summarise(n=n()) %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)+ #shape is the style of the points
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Number of samples for species DM",
x = "Year",
fill = "n")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(alpha = 0.4, color = "black", fill = "deepskyblue4", bins=40)+ #don't need to have bin line because R will do it
labs(title = "Distribution of Body Mass")
grDevices::colors()
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="deepskyblue4", alpha  =0.4, color = "black")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = ..density..), fill = "deepskyblue4", alpha = 0.4, color = "black")+ #..density.. is treated as overlay
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.hra)) +
geom_histogram(color = "black", fill = "mistyrose")+
labs(title = "Distribution of Homeranges")
homerange %>%
ggplot(aes(x = log10.hra)) +
geom_density(color = "black", fill = "mistyrose")+
labs(title = "Distribution of Homeranges")
homerange %>%
ggplot(aes(x=log10.hra)) +
geom_histogram(aes(y = ..density..), fill = "steelblue", color = "black", size = 1)+ #color is the outline, fill is the inside stuff
geom_density(color = "grey4", size = 1)+
labs(title = "Distribution of Homeranges")
glimpse(homerange)
homerange %>%
select(log10.mass) %>%
summarise(min=min(log10.mass),
max=max(log10.mass))
summary(homerange$log10.mass)
homerange <- homerange %>%
mutate(mass_category = case_when(log10.mass <= 1.75 ~ "small",
log10.mass > 1.75 & log10.mass <= 2.75 ~ "medium",
log10.mass > 2.75 ~ "large"))
glimpse(homerange)
homerange %>%
ggplot(aes(x = mass_category, fill = trophic.guild)) +
geom_bar(position="dodge")
labs(title = "Observations by Taxon and Mass Category in Homerange Data",
x = "Mass Category",
fill = "Trophic Guild")
summary(homerange$log10.hra)
library(gtools)
gapminder%>%
group_by(continent, year)%>%
summarize(min = min(lifeExp),
max = max(lifeExp),
mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=lifeExp, fill = continent))+
geom_line()
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=lifeExp, fill = continent))+
geom_line()
gapminder%>%
group_by(continent, year)%>%
summarize(min = min(lifeExp),
max = max(lifeExp),
mean = mean(lifeExp))
gapminder
gapminder%>%
group_by(year)%>%
summarize(min=min(lifeExp),
mean=mean(lifeExp),
max=max(lifeExp))
gapminder%>%
filter(year =="1952" | year =="2007")%>%
group_by(year)%>%
summarize(mean = mean(lifeExp),
min = min(lifeExp),
max = max(lifeExp))
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent))+
geom_line()
gapminder%>%
group_by(lifeExp, gdpPercap)
gapminder%>%
group_by(lifeExp, gdpPercap)%>%
summarize(mean=mean(lifeExp))
gapminder%>%
group_by(lifeExp, gdpPercap)%>%
summarize(mean=mean(lifeExp))%>%
arrange(gdpPercap)
gapminder%>%
group_by(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
filter(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
sort(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
filter(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
group_by(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
select(lifeExp, gdpPercap)%>%
arrange(gdpPercap)
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_line()
gapminder%>%
select(lifeExp, gdpPercap)%>%
summarize(mean=mean(gdpPercap))
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_line()
gapminder%>%
select(lifeExp, gdpPercap)%>%
summarize(mean=mean(gdpPercap))
ggplot(aes(x=mean, y=lifeExp))+geom_line()
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_line()
knitr::opts_chunk$set(echo = TRUE)
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_point()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
#install.packages("gapminder")
library("gapminder")
summary(gapminder)
gapminder
anyNA(gapminder)
gapminder%>%
group_by(year)%>%
summarize(min=min(lifeExp),
mean=mean(lifeExp),
max=max(lifeExp))
gapminder%>%
filter(year =="1952" | year =="2007")%>%
group_by(year)%>%
summarize(mean = mean(lifeExp),
min = min(lifeExp),
max = max(lifeExp))
gapminder%>%
group_by(continent, year)%>%
summarize(min = min(lifeExp),
max = max(lifeExp),
mean = mean(lifeExp))
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent))+
geom_line()+
labs(title = "life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_point()
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+geom_point()+geom_smooth(lm=TRUE)
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, group= continent))+
geom_line()+
labs(title = "life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continet))+
geom_line()+
labs(title = "life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
labs(title = "life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
labs(title = "Life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
theme(axis.text=element_text(hjus = 1))
labs(title = "Life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
geom_smooth(lm=TRUE)+
labs(title="Does having more money help you live longer?",
x= "Per Capita GDP",
y= "Life Expectancy (years)")
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
labs(title = "Life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")+
theme(plot.title = element_text(size = 20, face = "bold"),
axis.text = element_text(size = 10, face = "italic"),
axis.title = element_text(size = 15))
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
labs(title = "Life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")+
theme(plot.title = element_text(size = 15, face = "bold"),
axis.text = element_text(size = 10, face = "italic"),
axis.title = element_text(size = 15))
gapminder%>%
group_by(continent, year)%>%
summarize(mean = mean(lifeExp))%>%
ggplot(aes(x=year, y=mean, fill = continent, color=continent))+
geom_line()+
labs(title = "Life expectancy for each continent through 1952 to 2007",
x = "year",
y = "average life expectancy")+
theme(plot.title = element_text(size = 15, face = "bold"),
axis.text = element_text(size = 10, face = "italic"),
axis.title = element_text(size = 10))
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
homerange <- read_csv(here("lab11 Part2", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
homerange <- read_csv(here("lab11 Part 2", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11 Part 2", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p+theme_gray()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_wsj()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_wsj()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
#install.packages("ggthemes")
library(ggthemes)
p+theme_wsj()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p+ theme_pander()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
?RColorBrewer
?RColorBrewer
display.brewer.pal(11,"RdYlGn")
p+scale_fill_brewer(palette = "YlOrRd")+ #check colorbrewer2, and ?ColorBrewer
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
colors <- paletteer::palettes_d_names
my_palette <- paletteer_d("PNWColors::Sunset")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x = log10.mass, y = log10.hra, color = locomotion)) +
geom_point() +
xlim(0, 4) +
ylim(1, 6)
p2 <- homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density()
p2+ facet_wrap(~taxon)
p2+facet_grid(thermoregulation~class)
?RColorBrewer
colorBrewer
get(wd)
get.wd
setwd("~/GitHub Winter 2022/BIS15W2022_schung/lab11 Part 2")
homerange <- read_csv(here("lab11 Part 2", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
gapminder%>%
select(lifeExp, gdpPercap)%>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
geom_smooth(lm=TRUE)+
labs(title="Does having more money help you live longer?",
x= "Per Capita GDP",
y= "Life Expectancy (years)")+
theme_pander()
gapminder%>%
select(country, year, pop)%>%
pivote_wider(names_from ="year",
values_from ="pop")
gapminder%>%
select(country, year, pop)%>%
pivot_wider(names_from ="year",
values_from ="pop")
gapminder%>%
select(country, year, pop)%>%
pivot_wider(names_from ="year",
values_from ="pop")%>%
mutate(popgrow = 2007-1952)
gapminder%>%
select(country, year, pop)%>%
pivot_wider(names_from ="year",
values_from ="pop")%>%
mutate(popgrow = "2007"-"1952")
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")
pivot_wider(names_from ="year",
values_from ="pop")%>%
mutate(popgrow = 2007-1952)
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
values_from ="pop")%>%
mutate(popgrow = 2007-1952)
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
values_from ="pop")%>%
mutate(popgrow = "2007"-"1952")
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_"
values_from ="pop")%>%
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_"
values_from ="pop")%>%
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_",
values_from ="pop")%>%
mutate(popgrow = year_2007-year_1952)
gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_",
values_from ="pop")%>%
mutate(popgrow = year_2007-year_1952)%>%
arrange(desc(popgrow))
popgrowth <- gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_",
values_from ="pop")%>%
mutate(popgrow = year_2007-year_1952)%>%
arrange(desc(popgrow))
popgrowth <- gapminder%>%
select(country, year, pop)%>%
filter(year == "1952"|year == "2007")%>%
pivot_wider(names_from ="year",
names_prefix="year_",
values_from ="pop")%>%
mutate(popgrow = year_2007-year_1952)%>%
arrange(desc(popgrow))
popgrowth
popgrowth%>%
top_n(5,n)
popgrowth%>%
top_n(5,popgrow)
popgrowth <- gapminder%>%
select(country, year, pop)%>%
pivot_wider(names_from ="year",
names_prefix="year_",
values_from ="pop")%>%
mutate(popgrow = year_2007-year_1952)%>%
arrange(desc(popgrow))
popgrowth
popgrowth%>%
top_n(5,popgrow)%>%
ggplot(aes(x=))
popgrowth%>%
top_n(5,popgrow)
gapminder%>%
top_n(5,popgrow)%>%
ggplot(aes(x="year_"))
knitr::opts_chunk$set(echo = TRUE)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from = "date",
values_from = "enterococci_cfu_100ml")
popgrowth%>%
top_n(5, popgrow)
gapminder%>%
filter(country=="China"|country=="India"|country=="Unites States",country=="Indonesia", country=="Brazil")%>%
ggplot(aes(x=year, y=pop, fill=country))
gapminder%>%
filter(country=="China"|country=="India"|country=="Unites States",country=="Indonesia", country=="Brazil")%>%
ggplot(aes(x=year, y=pop, fill=country))+
geom_line()
gapminder%>%
filter(country=="China"|country=="India"|country=="Unites States",country=="Indonesia", country=="Brazil")%>%
ggplot(aes(x=year, y=pop, fill=country))+
geom_point
gapminder%>%
filter(country=="China"|country=="India"|country=="Unites States",country=="Indonesia", country=="Brazil")%>%
ggplot(aes(x=year, y=pop, fill=country))+
geom_point()
gapminder%>%
filter(country=="China"|country=="India"|country=="Unites States",country=="Indonesia", country=="Brazil")%>%
ggplot(aes(x=year, y=pop))+
geom_point()
